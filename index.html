<!DOCTYPE html>
<html lang="en">

<head>
    <meta property="og:title" content="AOE2 Tournaments">
    <meta property="og:description"
        content="Discover ongoing and upcoming Age of Empires 2 tournaments. Filter by ELO, division, or invite-only events.">
    <meta property="og:image" content="https://ik.imagekit.io/aoe2tournaments/2025-02-06%2013_46_04-Window.jpg">
    <meta property="og:url" content="https://aoe2tournaments.com//">
    <meta property="og:type" content="website">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="format-detection" content="telephone=no">
    <meta name="author" content="watermullins" />
    <meta name="description"
        content="Find Age of Empires 2 tournaments of all shapes and sizes. Lots of options are always available for even low and mid ELO players seeking aoe2 tournaments." />
    <title>Age of Empires 2 Tournaments</title>

    <link rel="canonical" href="https://aoe2tournaments.com/">
    <link rel="icon" type="image/x-icon" href="https://ik.imagekit.io/aoe2tournaments/aoe2tsilver.webp">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="style.css" as="style">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Eczar:wght@400..800&display=swap" as="style">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Eczar:wght@400..800&display=swap" rel="stylesheet">

    <style>
        .main-container {
            display: flex;
        }

        .filter-container {
            color: white;
            flex-shrink: 0;
            align-self: flex-start;
        }

        .filter-container label {
            display: block;
            margin-bottom: 0px;
        }

        .filter-container input {
            margin-right: 10px;
        }

        .color-box {
            display: inline-block;
            width: 15px;
            height: 15px;
            border-radius: 3px;
            margin-right: 5px;
        }

        .elo-box {
            width: 20px;
            height: 20px;
            display: inline-block;
            border-radius: 3px;
            margin-right: 5px;
        }

        .elo-boxes {
            display: flex;
            gap: 12px;
            margin-bottom: 12px;
            flex-wrap: wrap;
        }

        .elo-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            color: black;
            flex-shrink: 0;
        }

        .elo-icon svg {
            width: 100%;
            height: 100%;
        }

        .event h3 a {
            color: black;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.2s ease;
            border-bottom: 2px solid transparent;
            padding-bottom: 2px;
        }

        .event h3 a:hover {
            color: #5c3d2e;
            border-bottom: 2px solid #5c3d2e;
        }

        .event a img {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            cursor: pointer;
        }

        .event a img:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .info-icon {
            cursor: pointer;
            display: inline-block;
            padding: 8px 12px;
            background: linear-gradient(135deg, #d4c5a0 0%, #e8dcc0 50%, #d4c5a0 100%);
            color: #000000;
            border: 2px solid rgb(0, 0, 0);
            border-radius: 2px;
            font-weight: bold;
            font-size: 12px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            font-family: 'Eczar', serif;
            transition: all 0.2s ease;
        }

        .info-icon:hover {
            background: linear-gradient(135deg, #c9bba0 0%, #ddd0b5 50%, #c9bba0 100%);
            border-color: #5c3d2e;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
        }

        .modal-content {
            background: linear-gradient(135deg, #d4c5a0 0%, #e8dcc0 50%, #d4c5a0 100%);
            background-image:
                radial-gradient(circle at 20% 50%, rgba(139, 90, 43, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(101, 67, 33, 0.03) 0%, transparent 50%),
                linear-gradient(135deg, #d4c5a0 0%, #e8dcc0 50%, #d4c5a0 100%);
            margin: 5% auto;
            padding: 30px;
            border: 3px solid #8b5a2b;
            border-radius: 2px;
            box-shadow:
                inset 0 0 10px rgba(0, 0, 0, 0.1),
                0 10px 30px rgba(0, 0, 0, 0.5);
            width: 80%;
            max-width: 500px;
            color: #2c1810;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-content h2 {
            color: #5c3d2e;
            border-bottom: 2px solid #8b5a2b;
            padding-bottom: 10px;
            font-family: 'Eczar', serif;
        }

        .modal-close {
            color: #8b5a2b;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .modal-close:hover {
            color: #5c3d2e;
        }

        .faq-section {
            border-left: 4px solid #8b5a2b;
            padding: 12px 15px;
            margin: 15px 0;
            background-color: rgba(139, 90, 43, 0.08);
            border-radius: 2px;
        }

        .faq-section h3 {
            margin-top: 0;
            color: #5c3d2e;
            font-family: 'Eczar', serif;
        }

        .faq-section p {
            color: #2c1810;
        }

        /* Mobile BP */
        @media (max-width: 480px) {
            .main-container {
                flex-direction: column;
                width: 100%;
                margin-right: 0px;
            }

            .filter-container {
                padding: 25px;
                width: 100%;
                flex: 0;
            }

            .event-sections {
                margin-top: 20px;
            }

            .event-container {
                grid-template-columns: 100%;
                width: 100%;
                margin: 0 auto;
            }

            .event {
                display: block;
                margin-left: auto;
                margin-right: auto;
                width: 70%;
                padding: 15px;
                color: black;
            }
        }

        @media (min-width: 481px) {
            .main-container {
                width: 100%;
                box-sizing: border-box;
                max-width: 1500px;
                margin: 0 auto;
                padding: 0 16px;
            }

            .filter-container {
                padding: 0;
                width: 170px;
                flex: 0 0 170px;
            }

            .event-sections,
            .event-container {
                flex: 1 1 auto;
                min-width: 0;
            }

            .event-container {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(14rem, 1fr));
                gap: .9rem;
                width: 100%;
                max-width: 94rem;
                min-height: 400px;
            }
        }

        @media (min-width: 1450px) {
            .event-container {
                grid-template-columns: repeat(4, minmax(18.75rem, 1fr));
            }
        }
    </style>
</head>

<body>
    <div class="navalign">

        <!--Topnav-->
        <div class="navcontainer">
            <nav class="topnav">
                <a class="active" href="index.html">Tournaments</a>
                <a href="images.html">Images</a>
                <a href="links.html">Resources</a>
                <a href="https://forms.gle/yHM5ecGqhnZP33KF8" target="_blank">Create Event</a>
            </nav>
        </div>
    </div>
    <h1>Age of Empires 2 Tournaments</h1>
    <div class="main-container">

        <!--Filter-->
        <div class="filter-container">
            <label>Filter by Category:</label>
            <label>
                <input type="checkbox" value="Team" data-color="#56F000"> 
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 1024 1024" style="margin-right: 5px;">
                    <path d="M774.4 742.4c0-44.8-12.8-89.6-38.4-121.6C691.2 569.6 640 544 576 544c-38.4 0-76.8 0-115.2 0-44.8 0-83.2 12.8-121.6 38.4-44.8 32-70.4 76.8-76.8 128-6.4 57.6 0 121.6-6.4 185.6 6.4 0 19.2 6.4 25.6 6.4 76.8 19.2 147.2 38.4 224 38.4 44.8 0 96 0 140.8-6.4 38.4-6.4 76.8-19.2 115.2-32 6.4 0 6.4-6.4 6.4-12.8C774.4 838.4 774.4 787.2 774.4 742.4z"  /><path d="M358.4 531.2c12.8-6.4 19.2-6.4 32-12.8-38.4-38.4-57.6-76.8-57.6-128-44.8 0-89.6 0-134.4 0C172.8 390.4 147.2 396.8 128 403.2 57.6 428.8 0 499.2 0 576c0 51.2 0 102.4 0 160 0 6.4 0 6.4 6.4 12.8 51.2 12.8 102.4 25.6 153.6 32 19.2 0 44.8 6.4 64 6.4 0-12.8 0-25.6 0-38.4 0-19.2 0-38.4 6.4-57.6C249.6 614.4 294.4 563.2 358.4 531.2z"  /><path d="M1024 588.8c0-25.6-6.4-57.6-19.2-83.2-38.4-76.8-96-115.2-179.2-115.2-121.6 0 0 0-121.6 0 0 51.2-19.2 96-57.6 128 6.4 0 12.8 6.4 12.8 6.4 32 12.8 64 32 89.6 57.6 38.4 44.8 57.6 96 57.6 153.6 0 12.8 0 32 0 44.8 32-6.4 57.6-6.4 89.6-12.8 38.4-6.4 83.2-19.2 121.6-38.4 6.4 0 6.4-6.4 6.4-12.8C1024 684.8 1024 633.6 1024 588.8z"  /><path d="M518.4 537.6c83.2 0 153.6-70.4 147.2-153.6 0-83.2-70.4-147.2-147.2-147.2-83.2 0-153.6 64-153.6 147.2C371.2 467.2 435.2 537.6 518.4 537.6z"  /><path d="M704 371.2C723.2 377.6 742.4 384 768 384c83.2 0 153.6-70.4 147.2-153.6 0-83.2-70.4-147.2-147.2-147.2-83.2 0-153.6 64-153.6 147.2C665.6 256 697.6 307.2 704 371.2z"  /><path d="M256 384c25.6 0 57.6-6.4 76.8-19.2 6.4-51.2 32-96 70.4-121.6 0 0 0-6.4 0-6.4 0-83.2-70.4-147.2-147.2-147.2-83.2 0-153.6 64-153.6 147.2C102.4 313.6 172.8 384 256 384z"  />
                </svg>
                Team
            </label>
            <label>
                <input type="checkbox" value="1-v-1" data-color="#FCE83A">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16" style="margin-right: 5px;">
                    <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/>
                </svg>
                1-v-1
            </label>
            <label>
                <input type="checkbox" value="Single-division" data-color="#FF3838">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" style="margin-right: 5px;">
                    <path d="M8 1L10 6H15L11.25 9.5L12.75 14.5L8 11L3.25 14.5L4.75 9.5L1 6H6L8 1Z" fill="currentColor"/>
                </svg>
                Single-division
            </label>
            <label>
                <input type="checkbox" value="Multi-division" data-color="white">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="10.184000000000001 15.352 55.024 43.928" width="16" height="16"><path d="M 38.7916,15.8334C 40.5405,15.8334 40.375,17.2511 40.375,19L 40.4832,22.422L 58.8399,27.5931L 58.0738,30.6657L 56.0774,30.168L 64.9166,47.5C 64.9166,50.5606 59.8717,53.0417 54.625,53.0417C 49.3783,53.0417 44.3333,50.5606 44.3333,47.5L 52.3887,29.2483L 40.6112,26.3118L 41.5394,53.9324C 47.6545,54.3801 52.25,56.2923 52.25,58.5833L 25.3333,58.5833C 25.3333,56.2923 29.9288,54.3801 36.0439,53.9324L 37.1289,25.4436L 23.8151,22.1241L 31.6666,40.375C 31.6666,43.4356 26.6217,45.9167 21.375,45.9167C 16.1283,45.9167 11.0833,43.4356 11.0833,40.375L 20.1264,21.2044L 18.13,20.7066L 18.8961,17.634L 37.2057,22.0007L 37.2083,19C 37.2083,17.2511 37.0427,15.8334 38.7916,15.8334 Z M 61.2191,47.5L 55.4166,33.1384L 55.4166,47.5L 61.2191,47.5 Z M 48.0308,47.5L 53.8333,47.5L 53.8333,33.1384L 48.0308,47.5 Z M 27.9691,40.3751L 22.1666,26.0135L 22.1666,40.3751L 27.9691,40.3751 Z M 14.7808,40.3751L 20.5833,40.3751L 20.5833,26.0134L 14.7808,40.3751 Z" fill="currentColor"/></svg>
                Multi-division
            </label>
            <label>
                <input type="checkbox" value="Invite Only" data-color="#000000">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-fill" viewBox="0 0 16 16" style="margin-right: 5px;">
                    <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.756Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z"/>
                </svg>
                Invite Only
            </label>
            <div style="margin-top: 15px;">
                <span class="info-icon" id="infoIcon">FAQ</span>
            </div>
        </div>

        <!-- Info Modal -->
        <div id="infoModal" class="modal">
            <div class="modal-content">
                <span class="modal-close" id="closeModal">&times;</span>
                <h2>Frequently Asked Questions</h2>

                <div class="faq-section">
                    <h3>Filters</h3>
                    <p><strong>Team:</strong> Tournaments with 2v2, 3v3, and/or 4v4 teams</p>
                    <p><strong>1-v-1:</strong> Tournaments with single player teams</p>
                    <p><strong>Single-division:</strong> All players compete in the same division without ELO matching</p>
                    <p><strong>Multi-division:</strong> Players are matched according to ELO in different divisions</p>
                    <p><strong>Invite Only:</strong> Private tournaments by invitation</p>
                </div>

                <div class="faq-section">
                    <h3>Signing Up</h3>
                    <p>Most tournaments have a signup channel on their Discord server or a registration form.</p>
                    <p>To view more information about a tournament click on the tournament's card for usefull links</p>
                </div>

                <div class="faq-section">
                    <h3>Contact</h3>
                    <p>Methods to reach me can be found on the <a href="about.html" style="color: #5c3d2e; font-weight: bold;">About page</a>.</p>
                </div>
            </div>
        </div>

        <!-- Events -->
        <div class="event-sections">
            <h2>Upcoming AOEII Tournaments</h2>
            <div id="upcoming-events" class="event-container"></div>
            <h2>Ongoing AOEII Tournaments</h2>
            <div id="current-events" class="event-container"></div>
        </div>
    </div>
    <p><a href="about.html" style="color:white; text-decoration: underline;">About and Contact</a></p>
    <p><a href="https://buymeacoffee.com/watermullins" target="_blank"
            style="color:white; text-decoration: underline;">Support the Site!</a></p>
    <p><a href="https://discord.gg/HTXrxkaEWC" style="color:white; text-decoration: underline;">Join the Discord</a>
    </p>
    <p><a href="archive.html" style="color:white; text-decoration: underline;">View Archived Age of Empires
            Tournaments</a></p>

    <!-- Modal for ELO filter info -->
    <div id="elo-info-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" data-modal="elo-info-modal">&times;</span>
            <h2>ELO Filter Information</h2>
            <p>The ELO filter allows you to customize the tournaments displayed based on your skill level and preferences.
            </p>
            <p><strong>Team:</strong> Tournaments played in teams.</p>
            <p><strong>1-v-1:</strong> One versus one tournaments.</p>
            <p><strong>Single-division:</strong> Tournaments within a single division.</p>
            <p><strong>Multi-division:</strong> Tournaments across multiple divisions.</p>
            <p><strong>Invite Only:</strong> Exclusive tournaments by invitation.</p>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script>

        function formatDateToMonthDay(dateString) {
            const dateParts = dateString.split('/');
            const date = new Date(dateParts[2], dateParts[0] - 1, dateParts[1]);
            const options = { month: 'long', day: 'numeric' };
            return date.toLocaleDateString('en-US', options);
        }
        const eventsURL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vR3NVTnrKkbLNQAbEeH8-pVEYghucF8vqQ55eVt9P4vmnU67nbUvn9WTlTdyjHil_55sx2MCXmDfGrX/pub?output=csv';

        async function fetchEvents() {
            const response = await fetch(eventsURL);
            const data = await response.text();
            const parsed = Papa.parse(data, {
                header: true,
                skipEmptyLines: true
            });

            const events = parsed.data;
            const ongoingContainer = document.getElementById('current-events');
            const upcomingContainer = document.getElementById('upcoming-events');

            ongoingContainer.innerHTML = '';
            upcomingContainer.innerHTML = '';

            const selectedEloRanges = Array.from(document.querySelectorAll('.filter-container input[type="checkbox"]:checked'))
                .map(checkbox => checkbox.value);

            //event sorting
            const sortedEvents = events.sort((a, b) => {
                const dateA = a.SignupDeadline || a.StartDate || '';
                const dateB = b.SignupDeadline || b.StartDate || '';

                if (!dateA && !dateB) return 0;
                if (!dateA) return 1;
                if (!dateB) return -1;

                const formattedDateA = new Date(dateA);
                const formattedDateB = new Date(dateB);

                return formattedDateA - formattedDateB;
            });

            sortedEvents.forEach(event => {
                const eventEloRanges = event['ELO'] ? event['ELO'].split(',').map(range => range.trim()) : [];
                const status = event['Status'] ? event['Status'].trim() : '';
                const eloMatch = selectedEloRanges.length === 0 || selectedEloRanges.every(selectedElo => eventEloRanges.includes(selectedElo));

                if (!eloMatch) {
                    return;
                }

                const eventDiv = document.createElement('div');
                eventDiv.classList.add('event');

                let eventHTML = '';

                // Create icon SVGs for each category
                const iconMap = {
                    'Team': '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 1024 1024"><path d="M774.4 742.4c0-44.8-12.8-89.6-38.4-121.6C691.2 569.6 640 544 576 544c-38.4 0-76.8 0-115.2 0-44.8 0-83.2 12.8-121.6 38.4-44.8 32-70.4 76.8-76.8 128-6.4 57.6 0 121.6-6.4 185.6 6.4 0 19.2 6.4 25.6 6.4 76.8 19.2 147.2 38.4 224 38.4 44.8 0 96 0 140.8-6.4 38.4-6.4 76.8-19.2 115.2-32 6.4 0 6.4-6.4 6.4-12.8C774.4 838.4 774.4 787.2 774.4 742.4z"/><path d="M358.4 531.2c12.8-6.4 19.2-6.4 32-12.8-38.4-38.4-57.6-76.8-57.6-128-44.8 0-89.6 0-134.4 0C172.8 390.4 147.2 396.8 128 403.2 57.6 428.8 0 499.2 0 576c0 51.2 0 102.4 0 160 0 6.4 0 6.4 6.4 12.8 51.2 12.8 102.4 25.6 153.6 32 19.2 0 44.8 6.4 64 6.4 0-12.8 0-25.6 0-38.4 0-19.2 0-38.4 6.4-57.6C249.6 614.4 294.4 563.2 358.4 531.2z"/><path d="M1024 588.8c0-25.6-6.4-57.6-19.2-83.2-38.4-76.8-96-115.2-179.2-115.2-121.6 0 0 0-121.6 0 0 51.2-19.2 96-57.6 128 6.4 0 12.8 6.4 12.8 6.4 32 12.8 64 32 89.6 57.6 38.4 44.8 57.6 96 57.6 153.6 0 12.8 0 32 0 44.8 32-6.4 57.6-6.4 89.6-12.8 38.4-6.4 83.2-19.2 121.6-38.4 6.4 0 6.4-6.4 6.4-12.8C1024 684.8 1024 633.6 1024 588.8z"/><path d="M518.4 537.6c83.2 0 153.6-70.4 147.2-153.6 0-83.2-70.4-147.2-147.2-147.2-83.2 0-153.6 64-153.6 147.2C371.2 467.2 435.2 537.6 518.4 537.6z"/><path d="M704 371.2C723.2 377.6 742.4 384 768 384c83.2 0 153.6-70.4 147.2-153.6 0-83.2-70.4-147.2-147.2-147.2-83.2 0-153.6 64-153.6 147.2C665.6 256 697.6 307.2 704 371.2z"/><path d="M256 384c25.6 0 57.6-6.4 76.8-19.2 6.4-51.2 32-96 70.4-121.6 0 0 0-6.4 0-6.4 0-83.2-70.4-147.2-147.2-147.2-83.2 0-153.6 64-153.6 147.2C102.4 313.6 172.8 384 256 384z"/></svg>',
                    '1-v-1': '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></svg>',
                    'Single-division': '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M8 1L10 6H15L11.25 9.5L12.75 14.5L8 11L3.25 14.5L4.75 9.5L1 6H6L8 1Z" fill="currentColor"/></svg>',
                    'Multi-division': '<svg xmlns="http://www.w3.org/2000/svg" viewBox="10.184000000000001 15.352 55.024 43.928" width="16" height="16"><path d="M 38.7916,15.8334C 40.5405,15.8334 40.375,17.2511 40.375,19L 40.4832,22.422L 58.8399,27.5931L 58.0738,30.6657L 56.0774,30.168L 64.9166,47.5C 64.9166,50.5606 59.8717,53.0417 54.625,53.0417C 49.3783,53.0417 44.3333,50.5606 44.3333,47.5L 52.3887,29.2483L 40.6112,26.3118L 41.5394,53.9324C 47.6545,54.3801 52.25,56.2923 52.25,58.5833L 25.3333,58.5833C 25.3333,56.2923 29.9288,54.3801 36.0439,53.9324L 37.1289,25.4436L 23.8151,22.1241L 31.6666,40.375C 31.6666,43.4356 26.6217,45.9167 21.375,45.9167C 16.1283,45.9167 11.0833,43.4356 11.0833,40.375L 20.1264,21.2044L 18.13,20.7066L 18.8961,17.634L 37.2057,22.0007L 37.2083,19C 37.2083,17.2511 37.0427,15.8334 38.7916,15.8334 Z M 61.2191,47.5L 55.4166,33.1384L 55.4166,47.5L 61.2191,47.5 Z M 48.0308,47.5L 53.8333,47.5L 53.8333,33.1384L 48.0308,47.5 Z M 27.9691,40.3751L 22.1666,26.0135L 22.1666,40.3751L 27.9691,40.3751 Z M 14.7808,40.3751L 20.5833,40.3751L 20.5833,26.0134L 14.7808,40.3751 Z" fill="currentColor"/></svg>',
                    'Invite Only': '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555ZM0 4.697v7.104l5.803-3.558L0 4.697ZM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.756Zm3.436-.586L16 11.801V4.697l-5.803 3.546Z"/></svg>'
                };

                if (eventEloRanges.length > 0) {
                    eventHTML += `<div class="elo-boxes">`;
                    eventEloRanges.forEach(range => {
                        const icon = iconMap[range] || '';
                        eventHTML += `<span class="elo-icon">${icon}</span>`;
                    });
                    eventHTML += `</div>`;
                }
                let eventLink = `event.html?event=${encodeURIComponent(event.Name)}`;
                if (event.EventLink) {
                    eventLink = event.EventLink;
                }
                if (event['Image']) {
                    eventHTML += `<a href="${eventLink}">
                                <img src="${event['Image']}?tr=w-auto,h-400" alt="aoe2 tournament ${event.Name}" fetchpriority="high"></a>`;
                } else {
                    eventHTML += `<a href="${eventLink}">
                                <img src="https://ik.imagekit.io/aoe2tournaments/age-of-empires-2-definitive-edit.webp?tr=w-auto,h-400" alt="aoe2 tournament ${event.Name}" fetchpriority="high">
                                </a>`;
                }

                if (event.Name) {
                    eventHTML += `<h3><a href="${eventLink}">${event.Name}</a></h3>`;
                }
                if (event.Description) {
                    eventHTML += `<p>${event.Description}</p>`;
                }
                if (event.DiscordLink && event.Discord) {
                    eventHTML += `<div><p>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-discord" viewBox="0 0 16 16">
                                    <path d="M13.545 2.907a13.2 13.2 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.2 12.2 0 0 0-3.658 0 8 8 0 0 0-.412-.833.05.05 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.04.04 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032q.003.022.021.037a13.3 13.3 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019q.463-.63.818-1.329a.05.05 0 0 0-.01-.059l-.018-.011a9 9 0 0 1-1.248-.595.05.05 0 0 1-.02-.066l.015-.019q.127-.095.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.05.05 0 0 1 .053.007q.121.1.248.195a.05.05 0 0 1-.004.085 8 8 0 0 1-1.249.594.05.05 0 0 0-.03.03.05.05 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.2 13.2 0 0 0 4.001-2.02.05.05 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.03.03 0 0 0-.02-.019m-8.198 7.307c-.789 0-1.438-.724-1.438-1.612s.637-1.613 1.438-1.613c.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612m5.316 0c-.788 0-1.438-.724-1.438-1.612s.637-1.613 1.438-1.613c.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612"/>
                                    </svg>
                                    <a href="${event.DiscordLink}" target="_blank"> ${event.Discord}</a></p></div>`;
                }
                if (event.SignupDeadline && status === 'Upcoming') {
                    const formattedDeadline = formatDateToMonthDay(event.SignupDeadline);
                    eventHTML += `<p><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar" viewBox="0 0 16 16">
                                      <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"/>
                                    </svg> Signup Deadline:  ${formattedDeadline}</p>`;
                } else if (event['ELO'] && !event['ELO'].toLowerCase().includes('invite only') && (status === 'Upcoming')) {
                    eventHTML += `<p><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar" viewBox="0 0 16 16">
                                      <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"/>
                                    </svg> Signup Deadline: TBA</p>`;
                }
                if (event.StartDate) {
                    const formattedStart = formatDateToMonthDay(event.StartDate);
                    eventHTML += `<p>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar" viewBox="0 0 16 16">
                            <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"/>
                        </svg> Begins: ${formattedStart}`
                    if (event.EndDate) {
                        const formattedEnd = formatDateToMonthDay(event.EndDate);
                        eventHTML += ` ~ ${formattedEnd}`;
                    }
                    eventHTML += `<p>`;
                } else {
                    eventHTML += `<p>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar" viewBox="0 0 16 16">
                            <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"/>
                        </svg> Begins: TBA</p>`;
                }
                eventDiv.innerHTML = eventHTML;
                if (status === 'Ongoing') {
                    ongoingContainer.appendChild(eventDiv);
                } else if (status === 'Upcoming') {
                    upcomingContainer.appendChild(eventDiv);
                }
            });
        }
        document.querySelectorAll('.filter-container input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', fetchEvents);
        });
        
        const infoIcon = document.getElementById('infoIcon');
        const infoModal = document.getElementById('infoModal');
        const closeModal = document.getElementById('closeModal');

        infoIcon.addEventListener('click', function() {
            infoModal.style.display = 'block';
        });

        closeModal.addEventListener('click', function() {
            infoModal.style.display = 'none';
        });

        window.addEventListener('click', function(event) {
            if (event.target === infoModal) {
                infoModal.style.display = 'none';
            }
        });

        fetchEvents();
    </script>
</body>

</html>